<html>
<head>
  <title>Fishermen's Atlas</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
  integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
  crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
  integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
  crossorigin=""></script>
  <script src="streamdata.js"></script>
  <style>
  #mapId{ width: screen.width; height: 500px;}
  </style>
</head>
<body>

  <div id="mapId"></div>

  <script>

var long = -77.859909, lat = 40.798214; // long lat of state college 
var map = L.map('mapId').setView([lat,long], 11); // centers map

var mapbox = L.tileLayer('https://api.mapbox.com/styles/v1/maycroft/cjnkc5wltdyqw2snablx3hng3/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWF5Y3JvZnQiLCJhIjoiY2l5MXluMW1nMDAwYjJ2cGc0MnlpaDd5cCJ9.4-kIMv1yknNvjhZGQtjnmA', {
  maxZoom: 18,
  attribution: '&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a>'
});

mapbox.addTo(map); 
//data is stored in a variable called stream 

//functions 

  var layerSite = new L.FeatureGroup() 
  
  var sites = stream.value.timeSeries //gets to the different sites 
  var i = 0;
  var x = String(i);
  var site = sites[x].sourceInfo.geoLocation.geogLocation;//access the lat and long for each 
  var circle = L.marker([site.latitude, site.longitude]).addTo(layerSite).addTo(map) //.bindPopup(sites[x].sourceInfo.siteName);

  i = 1;
  
  for (i=1; i <= sites.length; i++){
    x = String(i); // because they use numbers as strings for the different sites
    site = sites[x].sourceInfo.geoLocation.geogLocation; //access the lat and long for each 
    circle = L.marker([site.latitude, site.longitude]).addTo(layerSite).addTo(map) //.bindPopup(sites[x].sourceInfo.siteName);
  }; 



// basemap  
   


  //plots every point
  //accesses the different site locations 



</script>
</body>
</html>
