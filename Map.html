<html>
<head>
  <title> Sample: Philladelphia Bike Thefts, 2011</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
  <script src="streamdata.js"></script>
  <style>
  #mapId{ width: screen.width; height: 500px; }
  </style>
</head>
<body>

  <div id="mapId"></div>

  <script>
 // "use strict"

//data is stored in a variable called stream 

//functions 


// basemap  
    var long = -77.859909, lat = 40.798214; // long lat of state college 
    var map = L.map('mapId').setView([lat,long], 11); // centers map

    var mapbox = L.tileLayer('https://api.mapbox.com/styles/v1/maycroft/cjnkc5wltdyqw2snablx3hng3/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWF5Y3JvZnQiLCJhIjoiY2l5MXluMW1nMDAwYjJ2cGc0MnlpaDd5cCJ9.4-kIMv1yknNvjhZGQtjnmA', {
      maxZoom: 18,
      attribution: '&copy; <a href="https://www.mapbox.com/about/maps/">Mapbox</a>'
    });

  mapbox.addTo(map); 


//plots every point
  //accesses the different site locations 
    var sites = stream.value.timeSeries //gets to the different sites 

    var i = 0;

    for (i=0; i <= sites.length; i++){
      var x = String(i) // because they use numbers as strings for the different sites 
      var site = sites[x].sourceInfo.geoLocation.geogLocation //access the lat and long for each 

      var circle = L.circle([site.latitude, site.longitude], {
        radius: 10,
        color:'red',
        radius: 500,
        fillColor: '#f03'
    }).addTo(map)
    // add basic pop-up of names 
    circle.bindPopup(sites[x].sourceInfo.siteName)
    }

    /*
      var circle = L.circle([site0.latitude, site0.longitude], {
        radius: 10,
        color:'red',
        radius: 500,
        fillColor: '#f03'
    }).addTo(map)

     */




</script>

  <p>
    <small>
      Source: 
    </small>
  </p>
</body>
</html>
